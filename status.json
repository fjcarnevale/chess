{% autoescape true %}
{
   "game_id":"{{game.game_id}}",
   "state":"{{game.state}}",
   "players":[
      {% for player in game.players %}
      {
      
         "name":"{{player.name}}",
         "color":"{{player.color}}"
      }
      {% if not loop.last %},{% endif %}
      {% endfor %}
   ],
   "turn":"{{game.turn}}",
   "open_spots":[
      {% for spot in game.open_spots %}
      {"spot":"{{spot}}"}
      {% if not loop.last %},{% endif %}
      {% endfor %}
   ]
   {% if game.last_move is defined %}
   ,
   "last_move":
   {
      "name":"{{game.last_move.name}}",
      "src_row":"{{game.last_move.src_row}}",
      "src_col":"{{game.last_move.src_col}}",
      "dest_row":"{{game.last_move.dest_row}}",
      "dest_col":"{{game.last_move.dest_col}}"
   }
   {% endif %}
}
{% endautoescape %}
